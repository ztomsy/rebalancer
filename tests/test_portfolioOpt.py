import unittest
from payload.portfolioOpt import PortfolioOpt

pricing_data = {
    'BTC/USDT': [[1559034000000, 8710.74, 8743.85, 8692.54, 8711.43, 1052.468837], [1559037600000,8712.89, 8718.8, 8647.1, 8683.12, 1318.354504], [1559041200000, 8683.12, 8743.0, 8668.8, 8734.36, 1081.65452], [1559044800000, 8734.35, 8756.95, 8685.31, 8695.15, 1147.999106], [1559048400000, 8693.2, 8720.0, 8510.63, 8644.44, 3702.15406], [1559052000000, 8643.34, 8690.03, 8632.33, 8685.8, 1420.5955], [1559055600000, 8685.62, 8697.54, 8658.52, 8684.17, 988.718481], [1559059200000, 8684.78, 8686.4, 8617.02, 8654.13, 1325.861552], [1559062800000, 8650.46, 8790.0, 8645.02, 8731.19, 2326.890689], [1559066400000, 8731.03, 8755.08, 8691.62, 8728.78, 1250.544157], [1559070000000, 8727.67, 8774.25, 8630.0, 8689.64, 1514.333182], [1559073600000, 8689.66, 8720.98, 8675.0, 8692.61, 782.644899], [1559077200000, 8692.39, 8716.99, 8656.85, 8716.53, 768.785273], [1559080800000, 8710.39, 8739.0, 8681.89, 8709.58, 1109.470331], [1559084400000, 8710.62, 8740.0, 8682.37, 8715.64, 737.478257], [1559088000000, 8716.87, 8716.87, 8651.0, 8679.67, 1013.888267], [1559091600000, 8679.69, 8710.0, 8650.03, 8655.67, 982.330605], [1559095200000, 8655.87, 8669.59, 8611.0, 8643.93, 1301.775205], [1559098800000, 8643.91, 8670.0, 8620.0, 8646.01, 968.473586], [1559102400000, 8643.82, 8661.1, 8525.0, 8572.45, 2344.945402], [1559106000000, 8574.56, 8588.06, 8406.6, 8454.28, 3757.211345], [1559109600000, 8454.21, 8543.98, 8435.0, 8503.77, 2482.55037], [1559113200000, 8503.45, 8577.74, 8500.0, 8547.0, 1305.382497], [1559116800000, 8548.31, 8633.62, 8527.23, 8599.05, 1300.563193], [1559120400000, 8599.06, 8639.98, 8568.02, 8629.58, 1417.473317], [1559124000000, 8634.64, 8687.55, 8618.3, 8659.57, 1799.435207], [1559127600000, 8659.35, 8666.94, 8609.47, 8621.0, 1012.578328], [1559131200000, 8621.0, 8650.25, 8610.99, 8640.0, 1117.869895], [1559134800000, 8640.0, 8750.0, 8624.32, 8718.36, 2574.704959], [1559138400000, 8718.52, 8750.0, 8674.97, 8684.32, 1891.715964], [1559142000000, 8685.29, 8718.97, 8654.13, 8681.21, 1244.638739], [1559145600000, 8683.97, 8726.99, 8628.0, 8705.94, 1651.097164], [1559149200000, 8705.96, 8720.0, 8651.64, 8664.98, 909.757864], [1559152800000, 8664.98, 8685.55, 8640.0, 8661.39, 1034.270737], [1559156400000, 8661.39, 8693.93, 8653.69, 8677.51, 533.409987], [1559160000000, 8677.5, 8700.0, 8601.0, 8634.04, 1054.595974], [1559163600000, 8634.99, 8670.48, 8620.05, 8638.66, 750.584893], [1559167200000, 8638.66, 8688.59, 8635.44, 8656.0, 609.657986], [1559170800000, 8657.06, 8674.0, 8604.26, 8645.68, 821.954438], [1559174400000, 8646.5, 8673.41, 8590.0, 8672.09, 1646.796461], [1559178000000, 8672.08, 8718.71, 8550.81, 8621.88, 2341.437806], [1559181600000, 8621.79, 8622.36, 8541.33, 8592.23, 1819.336789], [1559185200000, 8593.35, 8692.48, 8584.6, 8672.47, 2003.998898], [1559188800000, 8675.39, 8693.06, 8653.74, 8678.0, 1467.23425], [1559192400000, 8677.94, 8757.33, 8677.03, 8705.52, 2401.006136], [1559196000000, 8705.01, 8739.1, 8691.39, 8700.0, 1062.715021], [1559199600000, 8700.0, 8723.06, 8676.07, 8696.71, 1164.615343], [1559203200000, 8699.1, 8719.4, 8660.0, 8701.15, 1638.850158], [1559206800000, 8701.17, 8719.4, 8672.99, 8713.59, 922.059791], [1559210400000, 8713.56, 8775.0, 8705.04, 8722.73, 1934.113854], [1559214000000, 8722.73, 8759.31, 8720.0, 8724.75, 1291.540448], [1559217600000, 8724.54, 8742.0, 8680.0, 8713.78, 1467.818857], [1559221200000, 8713.47, 8745.26, 8703.04, 8706.0, 1257.211734], [1559224800000, 8706.0, 8728.96, 8691.54, 8707.91, 1359.255263], [1559228400000, 8705.42, 8942.05, 8705.42, 8941.25, 3753.997666], [1559232000000, 8941.25, 9074.26, 8609.56, 8645.0, 10736.574962], [1559235600000, 8645.0, 8659.76, 8513.38, 8600.46, 5604.692038], [1559239200000, 8600.2, 8656.55, 8565.3, 8652.27, 1683.553236], [1559242800000, 8652.28, 8667.17, 8560.9, 8620.22, 1722.560132], [1559246400000, 8620.21, 8621.98, 8400.0, 8462.73, 5508.379831], [1559250000000, 8463.72, 8495.58, 8005.0, 8211.63, 10617.243296], [1559253600000, 8210.06, 8320.86, 8166.64, 8261.86, 4257.083076], [1559257200000, 8263.96, 8315.0, 8202.46, 8269.54, 2717.923475], [1559260800000, 8267.1, 8338.0, 8260.0, 8309.34, 3214.322092], [1559264400000, 8307.45, 8388.0, 8303.16, 8342.09, 1707.106796], [1559268000000, 8345.15, 8357.99, 8274.04, 8291.83, 2193.522168], [1559271600000, 8293.25, 8298.91, 8200.0, 8263.84, 1978.567883], [1559275200000, 8263.84, 8289.1, 8137.21, 8155.67, 2016.60709], [1559278800000, 8153.3, 8266.39, 8108.5, 8247.62, 2744.736254], [1559282400000, 8247.62, 8310.0, 8245.81, 8302.92, 1458.268257], [1559286000000, 8301.65, 8320.12, 8233.78, 8311.72, 1434.584102], [1559289600000, 8311.72, 8338.59, 8275.62, 8290.48, 1587.199756], [1559293200000, 8290.48, 8342.97, 8290.48, 8309.9, 1181.06572], [1559296800000, 8309.9, 8360.3, 8279.0, 8306.22, 1715.3237], [1559300400000, 8305.36, 8305.53, 8226.18, 8284.46, 1823.192824], [1559304000000, 8284.09, 8340.0, 8268.85, 8333.86, 1380.00663], [1559307600000, 8332.77, 8444.44, 8332.77, 8413.45, 3712.64766], [1559311200000, 8413.52, 8459.41, 8360.01, 8413.33, 2174.312822], [1559314800000, 8413.33, 8439.76, 8300.0, 8349.52, 1799.263669], [1559318400000, 8348.72, 8445.0, 8288.92, 8380.0, 2090.758419], [1559322000000, 8380.0, 8438.34, 8358.58, 8400.44, 1396.490812], [1559325600000, 8398.66, 8474.97, 8381.74, 8404.05, 1386.906724], [1559329200000, 8405.93, 8450.0, 8393.39, 8442.75, 1226.302591], [1559332800000, 8444.72, 8518.43, 8420.03, 8506.24, 1561.531313], [1559336400000, 8505.36, 8552.49, 8486.01, 8532.02, 2120.023462], [1559340000000, 8532.0, 8533.0, 8472.75, 8513.84, 1120.740382], [1559343600000, 8513.73, 8594.0, 8510.53, 8555.0, 1704.010494], [1559347200000, 8555.0, 8591.83, 8491.52, 8585.99, 1716.259502], [1559350800000, 8585.99, 8589.56, 8531.56, 8567.58, 946.618102], [1559354400000, 8566.83, 8572.56, 8517.0, 8555.0, 939.098631], [1559358000000, 8555.0, 8570.0, 8532.16, 8552.75, 924.926141], [1559361600000, 8548.55, 8580.0, 8526.86, 8561.23, 2505.526659], [1559365200000, 8563.15, 8565.25, 8445.5, 8476.28, 1984.507617], [1559368800000, 8478.96, 8542.6, 8445.53, 8525.61, 2458.811618], [1559372400000, 8528.45, 8547.58, 8491.33, 8539.26, 884.121853], [1559376000000, 8539.22, 8560.0, 8504.06, 8554.19, 1021.426859], [1559379600000, 8553.35, 8626.0, 8548.27, 8577.26, 2427.493089], [1559383200000, 8581.04, 8609.47, 8538.14, 8551.27, 1264.170986], [1559386800000, 8551.27, 8584.3, 8514.21, 8566.0, 1083.999124], [1559390400000, 8563.02, 8577.0, 8530.1, 8544.16, 776.129701], [1559394000000, 8542.26, 8549.81, 8490.38, 8504.51, 1006.294251], [1559397600000, 8504.39, 8538.33, 8442.36, 8481.59, 1982.802336], [1559401200000, 8480.81, 8538.54, 8469.74, 8530.21, 1283.359675], [1559404800000, 8530.21, 8583.99, 8523.29, 8554.93, 1414.374345], [1559408400000, 8557.08, 8561.56, 8501.62, 8517.91, 948.866433], [1559412000000, 8517.91, 8540.0, 8481.81, 8494.49, 774.439571], [1559415600000, 8495.39, 8549.99, 8468.0, 8530.11, 978.103769], [1559419200000, 8532.51, 8571.26, 8528.06, 8546.18, 765.220482], [1559422800000, 8548.35, 8600.0, 8534.13, 8584.18, 1319.581809], [1559426400000, 8584.18, 8593.58, 8521.45, 8577.11, 1225.889961], [1559430000000, 8579.86, 8593.91, 8500.25, 8544.07, 1236.211643], [1559433600000, 8545.1, 8588.33, 8524.0, 8564.83, 593.133892], [1559437200000, 8564.97, 8598.0, 8550.89, 8571.46, 787.293606], [1559440800000, 8570.35, 8582.64, 8540.0, 8551.54, 660.086969], [1559444400000, 8549.23, 8569.23, 8525.97, 8544.1, 664.017888], [1559448000000, 8545.93, 8573.18, 8540.4, 8566.26, 498.11631], [1559451600000, 8566.26, 8588.94, 8550.14, 8581.25, 523.449637], [1559455200000, 8583.0, 8594.7, 8561.55, 8580.0, 690.734227], [1559458800000, 8580.7, 8736.2, 8576.0, 8703.51, 2555.777817], [1559462400000, 8702.37, 8753.01, 8668.83, 8717.38, 1798.020167], [1559466000000, 8717.82, 8740.63, 8684.05, 8696.38, 1375.87042], [1559469600000, 8697.5, 8721.0, 8670.01, 8715.05, 869.753363], [1559473200000, 8715.05, 8732.0, 8675.0, 8722.04, 751.74648], [1559476800000, 8723.0, 8814.78, 8720.42, 8785.19, 2057.415581], [1559480400000, 8787.51, 8788.85, 8561.47, 8661.96, 3060.545111], [1559484000000, 8660.26, 8712.8, 8645.78, 8663.59, 1626.216336], [1559487600000, 8666.82, 8708.05, 8654.1, 8678.22, 3055.348519], [1559491200000, 8677.22, 8703.33, 8630.0, 8678.51, 921.26118], [1559494800000, 8675.7, 8702.89, 8629.89, 8642.13, 1190.652835], [1559498400000, 8643.3, 8683.0, 8614.1, 8671.35, 714.762343], [1559502000000, 8672.13, 8683.79, 8620.1, 8669.18, 781.969517], [1559505600000, 8669.18, 8700.47, 8647.37, 8681.55, 685.014576], [1559509200000, 8679.0, 8710.0, 8649.19, 8701.6, 524.962694], [1559512800000, 8703.52, 8747.0, 8672.62, 8732.25, 838.051775], [1559516400000, 8734.51, 8756.28, 8708.48, 8725.98, 610.932022], [1559520000000, 8726.0, 8738.15, 8638.02, 8667.07, 1365.494746], [1559523600000, 8666.82, 8703.0, 8617.32, 8676.0, 1188.721231], [1559527200000, 8675.72, 8800.95, 8647.69, 8669.94, 1914.756109], [1559530800000, 8672.5, 8695.57, 8640.0, 8660.47, 1178.185815], [1559534400000, 8660.5, 8676.77, 8639.31, 8671.49, 665.39476], [1559538000000, 8669.55, 8671.5, 8509.46, 8570.28, 2240.539901], [1559541600000, 8570.0, 8608.33, 8450.0, 8516.45, 2853.848165], [1559545200000, 8516.45, 8516.89, 8321.5, 8470.0, 4800.00487], [1559548800000, 8469.98, 8521.75, 8455.03, 8455.69, 1843.448257], [1559552400000, 8456.69, 8499.8, 8412.96, 8480.42, 1880.351551], [1559556000000, 8480.42, 8548.08, 8465.0, 8544.33, 1123.67917], [1559559600000, 8544.3, 8545.0, 8488.19, 8507.84, 932.154692], [1559563200000, 8505.1, 8567.0, 8472.42, 8530.82, 1413.388779], [1559566800000, 8533.63, 8540.0, 8425.01, 8433.03, 1762.441515], [1559570400000, 8436.98, 8488.09, 8342.01, 8398.68, 2361.014961], [1559574000000, 8398.68, 8477.75, 8330.0, 8473.66, 2563.325674], [1559577600000, 8471.88, 8558.81, 8435.0, 8536.82, 2004.847894], [1559581200000, 8536.82, 8546.52, 8464.54, 8467.22, 1159.199881], [1559584800000, 8468.06, 8583.0, 8465.51, 8563.0, 1083.557253], [1559588400000, 8561.49, 8580.4, 8522.98, 8570.88, 989.811534], [1559592000000, 8570.89, 8580.22, 8527.08, 8564.0, 959.437793], [1559595600000, 8565.0, 8570.49, 8462.11, 8492.87, 1263.14833], [1559599200000, 8495.6, 8506.57, 8403.24, 8470.9, 1202.215646], [1559602800000, 8470.52, 8474.39, 8080.8, 8115.82, 6943.996577], [1559606400000, 8115.66, 8115.66, 7780.4, 7988.13, 10003.219], [1559610000000, 7989.98, 8067.99, 7968.0, 8026.47, 3396.976353], [1559613600000, 8026.51, 8044.98, 7981.0, 8042.1, 1911.045893], [1559617200000, 8042.1, 8042.1, 7879.0, 7895.93, 2899.989591], [1559620800000, 7895.91, 8007.28, 7878.22, 7973.23, 3238.013425], [1559624400000, 7973.05, 8004.88, 7940.0, 7953.87, 1366.533385], [1559628000000, 7953.78, 7953.81, 7830.0, 7877.93, 2859.770911], [1559631600000, 7877.68, 7916.04, 7800.0, 7892.6, 2927.74927], [1559635200000, 7893.1, 7959.3, 7887.9, 7940.06, 3017.647634], [1559638800000, 7942.68, 7994.96, 7905.11, 7970.01, 1930.845419], [1559642400000, 7968.0, 8007.0, 7939.01, 7979.78, 1680.91237], [1559646000000, 7981.26, 7987.24, 7920.0, 7943.56, 1388.25085], [1559649600000, 7943.56, 7973.05, 7877.85, 7965.07, 1863.755022], [1559653200000, 7965.09, 8050.0, 7952.28, 8026.01, 2119.616613], [1559656800000, 8025.04, 8027.24, 7966.77, 7975.07, 1539.90265], [1559660400000, 7975.75, 8013.42, 7916.0, 7941.11, 2449.889284], [1559664000000, 7941.91, 7976.99, 7830.5, 7910.66, 2596.950113], [1559667600000, 7908.97, 7927.0, 7606.48, 7621.24, 8843.817373], [1559671200000, 7621.24, 7736.0, 7617.59, 7669.05, 4235.765658], [1559674800000, 7667.39, 7686.8, 7531.11, 7621.46, 4889.504807], [1559678400000, 7621.51, 7701.19, 7587.0, 7669.76, 1978.220752], [1559682000000, 7668.81, 7740.8, 7486.0, 7494.11, 2861.624325], [1559685600000, 7490.2, 7684.0, 7481.02, 7656.1, 2797.696299], [1559689200000, 7656.43, 7700.0, 7630.73, 7687.03, 1346.251944], [1559692800000, 7687.04, 7805.99, 7687.04, 7756.67, 2443.811593], [1559696400000, 7754.79, 7799.99, 7734.44, 7759.7, 1140.069163], [1559700000000, 7759.31, 7859.99, 7751.87, 7827.18, 2489.645811], [1559703600000, 7827.16, 7838.68, 7783.14, 7796.61, 1829.044129], [1559707200000, 7796.36, 7814.44, 7743.0, 7782.22, 1106.071544], [1559710800000, 7781.12, 7803.0, 7717.0, 7732.76, 1305.101477], [1559714400000, 7731.52, 7759.93, 7678.23, 7745.22, 1801.493314], [1559718000000, 7745.22, 7838.49, 7728.83, 7823.93, 2044.92292], [1559721600000, 7824.03, 7842.0, 7771.71, 7809.3, 2566.716832], [1559725200000, 7808.95, 7834.51, 7769.33, 7795.04, 1708.805457], [1559728800000, 7794.51, 7888.0, 7771.43, 7856.96, 2173.991759], [1559732400000, 7856.96, 7888.0, 7750.0, 7791.35, 2126.399291], [1559736000000, 7790.75, 7815.0, 7739.99, 7758.68, 1397.303252], [1559739600000, 7758.66, 7789.91, 7733.58, 7771.72, 1095.7261], [1559743200000, 7769.56, 7800.1, 7627.69, 7679.99, 3363.002004], [1559746800000, 7679.13, 7710.31, 7572.78, 7625.05, 4199.584166], [1559750400000, 7627.97, 7750.0, 7622.01, 7740.01, 2370.908917]],
    'ETH/USDT': [[1559034000000, 270.11, 271.0, 269.01, 270.23, 14036.69663], [1559037600000, 270.23, 270.49, 267.75, 268.75, 15579.44674], [1559041200000, 268.75, 271.0, 267.75, 270.31, 15008.81771], [1559044800000, 270.23, 271.3, 268.38, 268.78, 11104.16609], [1559048400000, 268.83, 269.83, 264.45, 267.34, 31843.85624], [1559052000000, 267.31, 269.68, 267.0, 269.14, 21538.88691], [1559055600000, 269.14, 271.25, 267.51, 270.75, 18176.49527], [1559059200000, 270.74, 270.88, 268.19, 269.66, 16517.64302], [1559062800000, 269.66, 275.95, 269.33, 272.08, 41658.92485], [1559066400000, 272.12, 273.53, 270.76, 272.05, 16413.35613], [1559070000000, 272.02, 273.76, 268.66, 270.32, 16521.62751], [1559073600000, 270.42, 272.39, 270.28, 272.39, 9538.93777], [1559077200000, 272.39, 273.37, 271.46, 273.15, 6084.44438], [1559080800000, 273.15, 273.68, 271.45, 271.96, 14259.84118], [1559084400000, 271.97, 272.05, 270.11, 271.03, 11171.70232], [1559088000000, 271.08, 271.31, 267.74, 269.1, 14740.46669], [1559091600000, 269.29, 270.61, 268.23, 268.56, 8980.75129], [1559095200000, 268.47, 268.82, 266.53, 267.99, 16113.95846], [1559098800000, 268.0, 269.35, 267.37, 268.51, 7459.52526], [1559102400000, 268.48, 268.89, 264.75, 267.31, 20427.4718], [1559106000000, 267.31, 267.65, 260.05, 261.8, 41104.15965], [1559109600000, 261.84, 264.78, 261.1, 263.02, 30526.64796], [1559113200000, 263.14, 265.88, 262.82, 265.15, 16544.96443], [1559116800000, 265.14, 268.39, 264.3, 267.43, 16614.17809], [1559120400000, 267.32, 268.13, 265.9, 267.92, 16101.78768], [1559124000000, 268.02, 270.64, 266.76, 268.91, 26731.35354], [1559127600000, 268.9, 270.0, 267.17, 267.57, 10213.29735], [1559131200000, 267.56, 269.98, 267.49, 269.88, 7176.70269], [1559134800000, 269.88, 274.04, 268.49, 272.34, 26611.30163], [1559138400000, 272.47, 273.69, 271.0, 271.45, 20875.89662], [1559142000000, 271.55, 273.0, 270.53, 271.7, 13799.12766], [1559145600000, 271.59, 273.37, 269.25, 272.8, 18732.93055], [1559149200000, 272.79, 273.43, 271.01, 271.66, 10824.31254], [1559152800000, 271.66, 272.03, 268.4, 270.3, 14209.38357], [1559156400000, 270.34, 271.86, 270.16, 271.3, 6715.50543], [1559160000000, 271.38, 272.0, 268.8, 269.0, 8964.71803], [1559163600000, 269.01, 270.08, 268.08, 269.36, 8729.42813], [1559167200000, 269.47, 271.35, 269.32, 270.0, 7349.61509], [1559170800000, 270.0, 271.09, 267.59, 268.83, 13864.97355], [1559174400000, 268.92, 272.3, 266.6, 272.2, 20602.12335], [1559178000000, 272.23, 273.93, 267.7, 269.71, 34348.94208], [1559181600000, 269.69, 271.42, 268.18, 270.81, 32197.39502], [1559185200000, 270.9, 286.01, 270.43, 281.99, 90781.8392], [1559188800000, 282.05, 287.83, 282.05, 283.96, 73106.40686], [1559192400000, 283.94, 286.43, 280.79, 282.37, 61479.82101], [1559196000000, 282.31, 284.0, 281.9, 282.51, 35977.18274], [1559199600000, 282.52, 285.1, 282.01, 283.04, 28978.94311], [1559203200000, 283.14, 284.24, 280.15, 282.46, 26443.97792], [1559206800000, 282.35, 283.87, 281.95, 283.69, 16839.14605], [1559210400000, 283.68, 286.11, 283.22, 283.68, 18112.47373], [1559214000000, 283.67, 284.99, 282.86, 283.43, 10255.11957], [1559217600000, 283.33, 283.94, 281.87, 283.33, 20420.03763], [1559221200000, 283.18, 286.16, 282.85, 282.93, 23155.01704], [1559224800000, 282.93, 284.72, 282.3, 283.74, 20744.52089], [1559228400000, 283.74, 287.45, 283.6, 286.7, 23178.29556], [1559232000000, 286.7, 288.62, 272.45, 272.76, 99070.74999], [1559235600000, 272.76, 272.8, 265.0, 268.76, 91728.77706], [1559239200000, 268.69, 271.36, 267.58, 271.28, 29033.34434], [1559242800000, 271.26, 272.04, 268.14, 269.28, 26471.90797], [1559246400000, 269.21, 269.33, 261.11, 263.12, 65801.99603], [1559250000000, 263.15, 264.96, 240.14, 248.92, 122774.002], [1559253600000, 248.92, 255.61, 247.18, 252.14, 57642.42761], [1559257200000, 252.14, 256.16, 251.38, 254.56, 37135.04711], [1559260800000, 254.59, 258.11, 253.29, 255.96, 38798.5427], [1559264400000, 256.01, 258.94, 255.71, 257.06, 24202.97617], [1559268000000, 257.15, 257.22, 254.02, 254.79, 24673.42564], [1559271600000, 254.8, 254.93, 250.32, 253.06, 34431.88696], [1559275200000, 253.0, 253.44, 246.44, 247.47, 34596.33673], [1559278800000, 247.49, 254.03, 245.21, 253.53, 35867.65306], [1559282400000, 253.5, 256.62, 253.47, 255.08, 24831.19847], [1559286000000, 255.18, 256.0, 251.8, 255.56, 35754.48461], [1559289600000, 255.66, 256.69, 253.69, 254.3, 33617.92129], [1559293200000, 254.21, 255.56, 253.44, 254.63, 18090.44303], [1559296800000, 254.59, 257.8, 254.49, 255.95, 17881.3992], [1559300400000, 255.91, 256.23, 254.04, 255.69, 17198.80773], [1559304000000, 255.64, 259.85, 254.78, 259.63, 15875.95293], [1559307600000, 259.64, 262.67, 259.6, 261.15, 42140.45455], [1559311200000, 261.15, 263.0, 258.3, 260.54, 26834.75671], [1559314800000, 260.54, 261.62, 256.05, 257.5, 20403.10946], [1559318400000, 257.51, 262.0, 254.24, 259.12, 40659.91107], [1559322000000, 259.22, 261.39, 258.61, 259.38, 18976.30394], [1559325600000, 259.23, 264.0, 259.14, 261.24, 18971.35084], [1559329200000, 261.24, 263.1, 260.94, 261.14, 10962.41722], [1559332800000, 261.11, 262.57, 259.8, 262.01, 10859.67648], [1559336400000, 262.09, 263.89, 261.4, 263.18, 17587.76935], [1559340000000, 263.19, 263.35, 260.05, 262.53, 10929.53262], [1559343600000, 262.6, 268.72, 262.53, 267.9, 28007.56168], [1559347200000, 267.9, 275.5, 265.13, 274.72, 49245.48117], [1559350800000, 274.68, 274.68, 269.43, 272.24, 26552.44545], [1559354400000, 272.23, 272.49, 268.63, 271.06, 14805.88489], [1559358000000, 271.06, 272.2, 269.53, 269.7, 11745.19506], [1559361600000, 269.64, 271.23, 267.81, 270.58, 35372.22875], [1559365200000, 270.63, 270.64, 266.0, 266.87, 18568.6391], [1559368800000, 266.88, 269.55, 265.38, 268.82, 17745.26135], [1559372400000, 268.95, 270.35, 267.5, 269.82, 8657.80059], [1559376000000, 269.82, 270.86, 268.09, 270.35, 8545.82624], [1559379600000, 270.32, 272.14, 269.45, 270.0, 15197.97339], [1559383200000, 269.92, 270.5, 268.29, 268.86, 8141.72408], [1559386800000, 268.75, 270.33, 267.32, 269.14, 12393.55454], [1559390400000, 269.16, 269.81, 267.92, 268.28, 8358.00162], [1559394000000, 268.23, 268.34, 265.17, 265.58, 11794.69568], [1559397600000, 265.58, 266.95, 260.68, 263.47, 33993.13092], [1559401200000, 263.43, 265.93, 262.4, 265.69, 20164.06803], [1559404800000, 265.68, 268.08, 265.53, 266.63, 19476.79395], [1559408400000, 266.63, 266.82, 263.13, 264.36, 21305.95103], [1559412000000, 264.28, 264.7, 262.5, 262.96, 25144.29958], [1559415600000, 262.89, 265.35, 261.16, 263.7, 15726.1999], [1559419200000, 263.82, 266.74, 263.7, 265.61, 13098.65372], [1559422800000, 265.53, 269.3, 265.27, 267.78, 14950.31518], [1559426400000, 267.77, 268.2, 262.94, 267.76, 20614.08977], [1559430000000, 267.74, 268.19, 262.24, 264.33, 24078.77214], [1559433600000, 264.33, 268.84, 263.2, 266.83, 16139.94184], [1559437200000, 266.83, 268.68, 266.03, 267.15, 12006.01217], [1559440800000, 267.12, 267.96, 264.47, 265.23, 12804.62084], [1559444400000, 265.23, 265.93, 263.3, 265.16, 13088.80709], [1559448000000, 265.12, 267.12, 264.41, 266.55, 7505.34688], [1559451600000, 266.56, 268.25, 265.11, 267.91, 7183.80331], [1559455200000, 267.81, 268.57, 266.47, 267.65, 11388.68234], [1559458800000, 267.66, 272.77, 267.54, 271.28, 27729.30381], [1559462400000, 271.27, 273.0, 270.24, 271.89, 21040.76289], [1559466000000, 271.88, 272.22, 270.18, 271.0, 10248.99132], [1559469600000, 270.89, 271.53, 269.35, 270.4, 11817.45759], [1559473200000, 270.4, 271.32, 267.85, 270.3, 11855.48383], [1559476800000, 270.3, 273.2, 270.15, 271.72, 15700.09508], [1559480400000, 271.67, 271.76, 265.81, 267.81, 25494.3187], [1559484000000, 267.78, 269.17, 267.32, 267.66, 9612.01239], [1559487600000, 267.79, 269.45, 267.54, 267.83, 12190.38852], [1559491200000, 267.82, 268.69, 266.36, 267.57, 19147.74631], [1559494800000, 267.51, 268.82, 267.0, 267.12, 20703.95102], [1559498400000, 267.19, 267.57, 266.0, 267.17, 7998.26705], [1559502000000, 267.16, 267.48, 265.25, 267.22, 6513.1244], [1559505600000, 267.15, 268.6, 267.13, 267.51, 5083.29693], [1559509200000, 267.53, 268.75, 265.85, 267.53, 5342.17018], [1559512800000, 267.67, 269.56, 266.6, 269.11, 4631.31677], [1559516400000, 269.11, 270.7, 268.66, 268.88, 6310.24936], [1559520000000, 268.87, 269.3, 265.63, 266.13, 13702.36787], [1559523600000, 266.17, 267.61, 264.1, 266.93, 11858.54208], [1559527200000, 266.93, 269.7, 266.0, 268.36, 9261.08488], [1559530800000, 268.38, 270.0, 267.09, 268.96, 10658.93209], [1559534400000, 268.98, 269.2, 267.51, 268.52, 6497.55185], [1559538000000, 268.52, 268.56, 264.65, 265.73, 19836.74116], [1559541600000, 265.67, 266.79, 261.7, 263.32, 28933.15109], [1559545200000, 263.33, 263.33, 255.51, 261.51, 37189.93934], [1559548800000, 261.51, 262.97, 259.91, 260.37, 22689.17691], [1559552400000, 260.37, 262.6, 259.58, 261.72, 18482.48049], [1559556000000, 261.73, 264.59, 261.45, 263.94, 14445.47957], [1559559600000, 263.95, 264.1, 262.26, 262.87, 8167.1057], [1559563200000, 262.98, 264.35, 261.62, 263.2, 12611.26799], [1559566800000, 263.26, 263.29, 260.24, 260.27, 11487.22716], [1559570400000, 260.31, 261.56, 255.0, 257.86, 31938.02528], [1559574000000, 257.84, 259.68, 255.61, 259.59, 18549.00369], [1559577600000, 259.51, 261.87, 257.99, 261.35, 15503.31], [1559581200000, 261.23, 261.61, 258.69, 258.91, 9000.09967], [1559584800000, 258.86, 261.7, 258.84, 261.47, 6659.66587], [1559588400000, 261.35, 261.98, 260.42, 261.31, 5347.81428], [1559592000000, 261.42, 261.93, 260.52, 261.27, 5728.65688], [1559595600000, 261.37, 261.7, 257.53, 258.99, 10039.29809], [1559599200000, 258.98, 259.45, 256.0, 257.83, 16054.62114], [1559602800000, 257.8, 257.99, 248.0, 249.91, 52719.10967], [1559606400000, 250.02, 250.02, 241.0, 247.74, 67053.828], [1559610000000, 247.75, 250.55, 247.31, 248.79, 19361.51775], [1559613600000, 248.79, 249.89, 247.8, 249.81, 12673.75604], [1559617200000, 249.78, 249.78, 243.64, 243.91, 46060.91766], [1559620800000, 243.91, 249.31, 243.51, 248.1, 33010.61069], [1559624400000, 248.03, 249.16, 245.67, 246.38, 15509.33914], [1559628000000, 246.37, 246.56, 243.09, 245.34, 23902.60547], [1559631600000, 245.34, 245.89, 242.66, 245.53, 25404.37989], [1559635200000, 245.64, 247.33, 245.42, 245.96, 21335.69014], [1559638800000, 245.99, 248.21, 245.33, 247.78, 18122.03284], [1559642400000, 247.78, 248.98, 246.52, 247.65, 12387.08568], [1559646000000, 247.65, 248.27, 245.65, 246.16, 7931.00895], [1559649600000, 246.18, 248.04, 245.65, 247.97, 10298.05923], [1559653200000, 247.92, 251.67, 247.62, 250.85, 21486.16165], [1559656800000, 250.85, 251.47, 249.23, 249.54, 14870.05214], [1559660400000, 249.54, 250.79, 247.91, 248.84, 20945.66693], [1559664000000, 248.86, 250.12, 246.5, 247.58, 16788.71056], [1559667600000, 247.62, 248.51, 238.6, 240.16, 64973.57216], [1559671200000, 240.16, 244.06, 239.42, 240.16, 29863.36835], [1559674800000, 240.13, 241.64, 234.39, 237.0, 63190.4217], [1559678400000, 236.99, 240.55, 236.0, 240.12, 30116.69969], [1559682000000, 240.08, 240.98, 234.68, 235.14, 20955.72393], [1559685600000, 235.11, 239.99, 234.61, 239.29, 24804.44155], [1559689200000, 239.26, 241.61, 238.13, 241.39, 12777.06232], [1559692800000, 241.46, 243.98, 240.77, 240.84, 18349.33087], [1559696400000, 240.87, 242.78, 240.07, 240.87, 10825.08395], [1559700000000, 240.88, 243.83, 240.83, 242.69, 13246.38824], [1559703600000, 242.73, 243.0, 241.38, 242.07, 12461.16488], [1559707200000, 242.06, 242.46, 240.92, 242.27, 10105.80845], [1559710800000, 242.28, 242.9, 241.24, 241.58, 8837.98048], [1559714400000, 241.58, 242.38, 240.3, 242.08, 12011.09074], [1559718000000, 242.08, 247.74, 241.5, 245.65, 19560.95163], [1559721600000, 245.72, 246.55, 244.26, 245.63, 13381.61356], [1559725200000, 245.66, 246.89, 244.66, 245.97, 9548.39967], [1559728800000, 245.98, 247.94, 245.74, 246.8, 12373.60808], [1559732400000, 246.8, 247.37, 243.91, 245.18, 17109.45389], [1559736000000, 245.19, 245.81, 243.1, 243.21, 13415.43056], [1559739600000, 243.22, 244.07, 242.07, 243.08, 9733.04781], [1559743200000, 243.11, 243.76, 238.21, 240.8, 22114.90278], [1559746800000, 240.75, 241.69, 237.37, 238.96, 21148.0095], [1559750400000, 238.84, 244.65, 238.65, 244.2, 14432.35305]],
    'BNB/USDT': [[1559034000000, 33.4477, 33.4798, 33.0909, 33.191, 135370.75], [1559037600000, 33.1813, 33.4977, 33.0205, 33.2011, 156239.12], [1559041200000, 33.1784, 33.4717, 33.112, 33.4503, 201280.92], [1559044800000, 33.44, 33.5466, 33.18, 33.2478, 190072.18], [1559048400000, 33.2479, 33.3734, 32.5, 33.0, 240099.95], [1559052000000, 33.0003, 33.1585, 32.8686, 33.1554, 221595.93], [1559055600000, 33.1382, 33.2, 32.9502, 33.0009, 123602.74], [1559059200000, 32.9812, 33.0185, 32.5, 32.6809, 156665.54], [1559062800000, 32.6494, 33.0579, 32.535, 32.8754, 189114.02], [1559066400000, 32.8686, 33.2252, 32.832, 32.9511, 148119.16], [1559070000000, 32.9598, 33.1255, 32.6926, 32.8199, 129824.69], [1559073600000, 32.8148, 33.0813, 32.7769, 33.0662, 167371.46], [1559077200000, 33.0717, 33.221, 32.9657, 33.1675, 132705.29], [1559080800000, 33.2038, 33.25, 32.9463, 33.0984, 135238.49], [1559084400000, 33.0958, 33.2, 33.0262, 33.1068, 99542.43], [1559088000000, 33.1086, 33.12, 32.78, 32.7859, 117227.91], [1559091600000, 32.78, 32.9864, 32.66, 32.6737, 74982.92], [1559095200000, 32.667, 32.7931, 32.4161, 32.6197, 138043.81], [1559098800000, 32.6197, 32.7, 32.5568, 32.5801, 67731.01], [1559102400000, 32.5801, 32.64, 31.7, 31.8638, 203669.11], [1559106000000, 31.8387, 31.9591, 30.85, 31.2846, 290372.44], [1559109600000, 31.2844, 32.099, 31.08, 32.022, 157241.76], [1559113200000, 32.0284, 33.4, 31.9044, 32.8244, 274447.87], [1559116800000, 32.8241, 33.88, 32.55, 33.4886, 222662.87], [1559120400000, 33.5307, 33.7882, 33.2514, 33.7235, 101122.5], [1559124000000, 33.7218, 33.871, 33.26, 33.4107, 71691.87], [1559127600000, 33.4039, 33.5333, 33.2175, 33.38, 53279.86], [1559131200000, 33.38, 33.847, 33.3479, 33.6196, 133126.46], [1559134800000, 33.6035, 33.85, 33.3849, 33.4702, 161642.59], [1559138400000, 33.4869, 33.6405, 33.3, 33.3784, 101093.06], [1559142000000, 33.3785, 33.5, 33.31, 33.3984, 77437.2], [1559145600000, 33.3747, 33.7491, 33.08, 33.6542, 132900.49], [1559149200000, 33.6541, 33.675, 33.3942, 33.4197, 196079.74], [1559152800000, 33.4282, 33.4351, 33.2041, 33.2823, 199915.93], [1559156400000, 33.2703, 33.55, 33.2668, 33.4732, 237078.09], [1559160000000, 33.4795, 33.641, 33.2733, 33.5096, 208413.89], [1559163600000, 33.5028, 33.5987, 33.3333, 33.3671, 122362.71], [1559167200000, 33.3757, 33.5499, 33.3671, 33.45, 119218.49], [1559170800000, 33.4642, 33.7112, 33.4, 33.6066, 172785.51], [1559174400000, 33.5977, 33.7244, 33.3802, 33.7002, 172053.39], [1559178000000, 33.7225, 34.6443, 33.7225, 34.3197, 303264.06], [1559181600000, 34.3169, 34.5837, 34.1372, 34.4999, 241667.04], [1559185200000, 34.4958, 34.96, 34.3548, 34.5723, 261665.55], [1559188800000, 34.58, 34.6777, 34.3736, 34.5058, 171966.17], [1559192400000, 34.4702, 34.7712, 34.2486, 34.2898, 139111.65], [1559196000000, 34.3185, 34.5498, 34.2588, 34.3198, 155608.03], [1559199600000, 34.3108, 34.4615, 33.9696, 34.0389, 119173.64], [1559203200000, 34.021, 34.2399, 33.7203, 33.8721, 108716.23], [1559206800000, 33.8724, 34.0597, 33.684, 33.8807, 66346.9], [1559210400000, 33.8825, 33.9998, 33.5209, 33.6778, 89625.78], [1559214000000, 33.631, 34.0448, 33.5808, 33.8197, 95337.65], [1559217600000, 33.8199, 33.9209, 33.6523, 33.7655, 68765.39], [1559221200000, 33.7656, 33.95, 33.6904, 33.799, 85307.45], [1559224800000, 33.803, 33.8983, 33.6, 33.63, 125649.93], [1559228400000, 33.6349, 33.7489, 33.5328, 33.5875, 161093.49], [1559232000000, 33.5556, 33.7541, 32.6512, 32.6594, 250789.75], [1559235600000, 32.6734, 32.9508, 31.8185, 32.7394, 223600.1], [1559239200000, 32.6959, 32.8529, 32.41, 32.625, 81730.46], [1559242800000, 32.602, 32.7899, 32.321, 32.4821, 84778.68], [1559246400000, 32.4774, 32.5388, 31.464, 31.705, 159424.97], [1559250000000, 31.732, 31.9351, 30.25, 31.3418, 360989.19], [1559253600000, 31.3263, 32.2082, 30.9003, 31.989, 177961.88], [1559257200000, 32.0, 32.0196, 31.335, 31.6666, 99337.21], [1559260800000, 31.6666, 31.94, 31.5105, 31.7036, 101224.29], [1559264400000, 31.7036, 32.197, 31.6177, 31.9645, 120973.05], [1559268000000, 31.9773, 32.0118, 31.6568, 31.6671, 121626.89], [1559271600000, 31.6878, 31.7448, 31.21, 31.4774, 114343.68], [1559275200000, 31.4772, 31.6938, 30.8048, 30.8228, 151815.43], [1559278800000, 30.8228, 31.5989, 30.61, 31.3695, 160259.84], [1559282400000, 31.3696, 31.7692, 31.3014, 31.6, 125440.09], [1559286000000, 31.6301, 31.7, 31.1246, 31.6237, 121432.9], [1559289600000, 31.6235, 31.7038, 31.2927, 31.4401, 116998.99], [1559293200000, 31.4499, 31.6431, 31.2005, 31.2011, 119079.34], [1559296800000, 31.2013, 31.4657, 31.0486, 31.0723, 144478.46], [1559300400000, 31.0701, 31.3263, 30.93, 31.2, 162964.74], [1559304000000, 31.1981, 31.5689, 31.1156, 31.5611, 152882.37], [1559307600000, 31.5679, 31.98, 31.5302, 31.9332, 155401.07], [1559311200000, 31.9328, 32.1111, 31.676, 31.82, 157626.31], [1559314800000, 31.8364, 32.185, 31.5806, 31.6837, 162606.38], [1559318400000, 31.6864, 32.098, 31.3801, 31.8199, 168954.86], [1559322000000, 31.798, 31.9815, 31.6807, 31.833, 191598.75], [1559325600000, 31.8409, 32.1296, 31.8, 31.8518, 179885.75], [1559329200000, 31.8475, 31.95, 31.78, 31.9169, 172290.09], [1559332800000, 31.9269, 32.2549, 31.9186, 32.24, 186864.63], [1559336400000, 32.2505, 32.6183, 32.2136, 32.5638, 191471.83], [1559340000000, 32.5817, 32.6969, 32.2758, 32.5673, 183613.9], [1559343600000, 32.5477, 32.9724, 32.5408, 32.8862, 171717.44], [1559347200000, 32.916, 32.9652, 32.5465, 32.9489, 136476.75], [1559350800000, 32.9455, 32.9585, 32.8, 32.9538, 100196.65], [1559354400000, 32.9534, 32.97, 32.6684, 32.9076, 104730.23], [1559358000000, 32.8965, 32.98, 32.7499, 32.7805, 125448.8], [1559361600000, 32.7857, 34.353, 32.7609, 33.9887, 478181.97], [1559365200000, 34.0, 34.1, 32.6771, 32.9771, 238410.95], [1559368800000, 32.9758, 33.586, 32.9379, 33.3893, 179750.53], [1559372400000, 33.3894, 33.3941, 33.021, 33.2705, 122238.57], [1559376000000, 33.2937, 33.6535, 33.17, 33.5449, 90183.55], [1559379600000, 33.52, 33.716, 33.145, 33.4189, 109549.24], [1559383200000, 33.4579, 33.5577, 33.115, 33.2294, 62051.38], [1559386800000, 33.2294, 33.278, 33.0588, 33.0602, 61509.18], [1559390400000, 33.0872, 33.39, 33.0588, 33.1301, 102016.78], [1559394000000, 33.158, 33.3701, 32.8519, 33.1927, 140166.11], [1559397600000, 33.193, 33.2477, 32.66, 32.8703, 215336.65], [1559401200000, 32.8703, 33.1423, 32.7583, 33.0455, 240689.01], [1559404800000, 33.0247, 33.1993, 32.9015, 33.011, 211624.93], [1559408400000, 33.0029, 33.0331, 32.7889, 32.85, 176983.14], [1559412000000, 32.8544, 33.076, 32.72, 32.9411, 107271.14], [1559415600000, 32.946, 33.0333, 32.8133, 32.9762, 90741.95], [1559419200000, 32.9751, 33.4213, 32.7057, 32.8685, 211159.1], [1559422800000, 32.8625, 33.028, 32.7165, 32.8818, 141733.76], [1559426400000, 32.887, 33.1, 32.519, 32.8589, 73387.24], [1559430000000, 32.8665, 33.4, 32.5024, 33.3521, 131056.55], [1559433600000, 33.3521, 33.3939, 33.1, 33.1832, 72497.85], [1559437200000, 33.1818, 33.2, 33.035, 33.1385, 123800.81], [1559440800000, 33.1283, 33.1583, 32.9072, 32.9152, 132755.23], [1559444400000, 32.9093, 32.996, 32.68, 32.7658, 119172.35], [1559448000000, 32.7751, 32.9777, 32.75, 32.9206, 112701.11], [1559451600000, 32.9181, 33.0368, 32.786, 32.9666, 103629.22], [1559455200000, 32.9603, 33.0235, 32.8862, 32.9999, 112362.93], [1559458800000, 32.9804, 33.3264, 32.9549, 33.1327, 173556.9], [1559462400000, 33.1497, 33.3897, 33.125, 33.2771, 167037.66], [1559466000000, 33.2693, 33.67, 33.2427, 33.4995, 236164.24], [1559469600000, 33.4879, 33.7647, 33.4678, 33.5508, 194826.01], [1559473200000, 33.5415, 33.62, 33.3766, 33.4169, 145301.89], [1559476800000, 33.4299, 33.625, 33.3293, 33.3831, 175651.23], [1559480400000, 33.3797, 33.3965, 32.82, 33.0902, 107028.65], [1559484000000, 33.0887, 33.1449, 32.9793, 33.032, 121143.81], [1559487600000, 33.039, 33.1737, 33.0067, 33.1, 152914.69], [1559491200000, 33.1172, 33.2863, 33.0002, 33.2364, 125345.68], [1559494800000, 33.243, 33.3826, 32.97, 33.0375, 136112.56], [1559498400000, 33.0376, 33.2451, 32.9725, 33.1538, 148173.62], [1559502000000, 33.1582, 33.2412, 33.0627, 33.2099, 154888.47], [1559505600000, 33.2002, 33.2596, 33.0647, 33.0878, 169000.73], [1559509200000, 33.0867, 33.1771, 32.9725, 33.0854, 61390.76], [1559512800000, 33.0839, 33.2294, 32.96, 33.1852, 33658.76], [1559516400000, 33.2107, 33.2999, 33.093, 33.1527, 46224.36], [1559520000000, 33.1343, 33.1753, 32.5673, 32.6323, 107259.02], [1559523600000, 32.6067, 32.6666, 32.2545, 32.5237, 98017.0], [1559527200000, 32.5378, 32.6933, 32.4029, 32.5068, 137056.34], [1559530800000, 32.4672, 32.5489, 31.9166, 32.0815, 160195.34], [1559534400000, 32.0814, 32.641, 31.907, 32.5862, 104726.3], [1559538000000, 32.596, 32.641, 32.005, 32.0689, 105999.21], [1559541600000, 32.0601, 32.3, 31.51, 31.8276, 171470.52], [1559545200000, 31.8496, 31.9284, 31.16, 31.6496, 172848.66], [1559548800000, 31.6495, 32.1001, 31.6218, 31.7142, 90503.49], [1559552400000, 31.7139, 31.8399, 31.3555, 31.75, 73705.15], [1559556000000, 31.739, 32.355, 31.7275, 32.3417, 63548.83], [1559559600000, 32.3256, 32.3257, 32.07, 32.1819, 45838.99], [1559563200000, 32.1623, 32.3398, 32.0, 32.2699, 58298.01], [1559566800000, 32.2665, 32.2979, 31.754, 31.754, 71664.4], [1559570400000, 31.781, 32.0, 31.3312, 31.5537, 89556.23], [1559574000000, 31.5711, 31.8754, 31.2202, 31.7459, 129803.1], [1559577600000, 31.7718, 32.21, 31.5387, 32.21, 117370.06], [1559581200000, 32.21, 32.25, 31.7047, 31.8601, 100812.69], [1559584800000, 31.8603, 32.2456, 31.8603, 32.15, 140951.38], [1559588400000, 32.138, 32.2195, 32.0056, 32.1405, 148911.9], [1559592000000, 32.1498, 32.2349, 32.0122, 32.0942, 141055.16], [1559595600000, 32.102, 32.1379, 31.6649, 31.7294, 157857.52], [1559599200000, 31.7248, 31.7799, 31.4097, 31.6457, 136302.96], [1559602800000, 31.6807, 31.7241, 30.51, 30.7564, 228156.47], [1559606400000, 30.7358, 30.7804, 29.89, 30.5001, 332012.68], [1559610000000, 30.4692, 30.934, 30.3024, 30.5454, 148573.12], [1559613600000, 30.5598, 30.5696, 30.215, 30.5696, 80252.8], [1559617200000, 30.5676, 30.5679, 29.6904, 29.6912, 125856.26], [1559620800000, 29.6912, 30.2497, 29.61, 30.1351, 185300.9], [1559624400000, 30.1144, 30.38, 30.0849, 30.1, 91336.06], [1559628000000, 30.1, 30.1, 29.5555, 29.6537, 108774.45], [1559631600000, 29.6265, 29.79, 29.2, 29.7316, 139514.88], [1559635200000, 29.7472, 30.2134, 29.7472, 30.1736, 81050.33], [1559638800000, 30.1979, 30.6983, 30.0038, 30.6132, 88790.6], [1559642400000, 30.6077, 30.7565, 30.3367, 30.7, 94125.56], [1559646000000, 30.7, 30.999, 30.527, 30.6274, 110412.36], [1559649600000, 30.6279, 31.195, 30.5916, 30.9523, 121555.7], [1559653200000, 30.9521, 31.4673, 30.9296, 31.2249, 112150.49], [1559656800000, 31.2247, 31.4193, 30.7201, 30.7201, 85174.59], [1559660400000, 30.7335, 31.1471, 30.72, 30.7786, 61893.84], [1559664000000, 30.7786, 31.01, 30.358, 30.4054, 80384.32], [1559667600000, 30.4054, 30.5225, 29.2, 29.3199, 234593.92], [1559671200000, 29.3199, 30.1398, 29.3001, 29.5424, 128310.48], [1559674800000, 29.5632, 29.7944, 29.055, 29.1488, 112744.36], [1559678400000, 29.1488, 29.4492, 29.0094, 29.3797, 67469.27], [1559682000000, 29.3716, 29.7198, 28.7958, 28.7958, 95138.89], [1559685600000, 28.7957, 29.2663, 28.7168, 29.1837, 101557.31], [1559689200000, 29.1831, 29.2811, 28.9086, 29.2596, 90030.45], [1559692800000, 29.2452, 29.487, 29.1507, 29.4388, 174838.41], [1559696400000, 29.4608, 29.6975, 29.3525, 29.4539, 105595.94], [1559700000000, 29.4538, 29.9063, 29.4143, 29.8348, 105307.39], [1559703600000, 29.8642, 29.9621, 29.6315, 29.8209, 107672.41], [1559707200000, 29.8195, 29.9132, 29.2749, 29.4392, 142735.49], [1559710800000, 29.4169, 29.6868, 29.15, 29.2348, 113338.95], [1559714400000, 29.2146, 29.5415, 28.944, 29.4994, 125067.36], [1559718000000, 29.4986, 29.9322, 29.4126, 29.9006, 136384.99], [1559721600000, 29.8672, 29.8993, 29.5733, 29.7826, 99714.22], [1559725200000, 29.7899, 29.9989, 29.7289, 29.7912, 149380.1], [1559728800000, 29.7755, 30.2973, 29.76, 30.152, 187727.08], [1559732400000, 30.1723, 30.4757, 29.9508, 30.1315, 114344.27], [1559736000000, 30.1259, 30.3953, 29.9501, 30.0355, 96490.21], [1559739600000, 30.0353, 30.2345, 29.8135, 30.1167, 96902.81], [1559743200000, 30.1325, 30.303, 29.6993, 29.8988, 187186.3], [1559746800000, 29.8812, 30.04, 29.47, 29.7233, 138696.21], [1559750400000, 29.7142, 30.2882, 29.7092, 30.2652, 59651.97]]
                }
base_asset = 'USDT'
frequency = 200
target_return = None
target_risk = 0.01
weight_bounds = (0.05, 0.85)

class TestPortfolioOpt(unittest.TestCase):
    def setUp(self):
        self.po = PortfolioOpt()

    def test_build_pricing_data_from_ohlcv(self):
        dc = self.po.build_pricing_data_from_ohlcv(pricing_data, base_asset)
        self.assertEqual(len(dc), 200)
        self.assertEqual(len(dc.columns), 4)

    def test_usdt_generate_report(self):
        a, b = self.po.generate_report(pricing_data, weight_bounds,
                                       base_asset, frequency,
                                       target_risk, target_risk)
        self.assertDictEqual(a, {'BNB': 0.05, 'BTC': 0.05, 'ETH': 0.05, 'USDT': 0.85})
        self.assertEqual(len(b), 5)

    def test_generate_analysis_model(self):
        dc = self.po.build_pricing_data_from_ohlcv(pricing_data, base_asset)
        model = self.po.generate_analysis_model(dc, weight_bounds, frequency)
        self.assertIsInstance(model, tuple)

    def test_forward_looking_return(self):
        d_c = self.po.build_pricing_data_from_ohlcv(pricing_data, base_asset)
        r_b, r_e, e_f = self.po.generate_analysis_model(d_c, weight_bounds, frequency)
        if target_return is not None:
            _oer = e_f.efficient_return(target_return=target_return)
        if target_risk is not None:
            _omw = e_f.efficient_risk(target_risk=target_risk)
        w_c = e_f.clean_weights()
        a, b, c = self.po.forward_looking_return(d_c, r_b, r_e, w_c)
        self.assertEqual(a, 'Tue May 28 12:00:00 2019')
        self.assertEqual(b, 'Wed Jun  5 19:00:00 2019')
        self.assertEqual(c, -0.014799336180871332)

    def test_make_weight_bounds(self):
        self.assertEqual(True, True)


if __name__ == '__main__':
    unittest.main()
